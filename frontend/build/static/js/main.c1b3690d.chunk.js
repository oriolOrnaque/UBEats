(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{204:function(e,a,t){},209:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),c=t.n(l),s=t(10),i=t(8),o=t(54),u=t.n(o),m="http://localhost:3000/api/",E=function(e,a,t,n){return u.a.post(m+"register",{name:e,email:a,password:t,type:n})},d=function(e,a){return u.a.post(m+"login",{email:e,password:a},{"Access-Control-Allow-Origin":m}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},g=function(e,a,t,n){return function(r){return E(e,a,t,n).then((function(e){return r({type:"REGISTER_SUCCESS"}),r({type:"SET_MESSAGE",payload:e.data.message}),Promise.resolve()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return r({type:"REGISTER_FAIL"}),r({type:"SET_MESSAGE",payload:a}),Promise.reject()}))}},p=t(79),b=Object(p.a)(),f=(t(29),t(80)),v=t.n(f);var h=function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"justi"},"Page under construction!"),r.a.createElement("h4",null,"Sorry for the inconvinience!"),r.a.createElement("img",{src:v.a,alt:"under construction pikachu"}))},A=t(7),S=t(6),N=t(22),O=t.n(N),j=t(13),y=t.n(j),C=t(23),w=t.n(C),x=t(24),T=function(e){if(!Object(x.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},R=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},I=function(e){var a=Object(n.useRef)(),t=Object(n.useRef)(),l=Object(n.useState)(""),c=Object(i.a)(l,2),o=c[0],u=c[1],m=Object(n.useState)(""),E=Object(i.a)(m,2),g=E[0],p=E[1],b=Object(n.useState)(!1),f=Object(i.a)(b,2),v=f[0],h=f[1],N=Object(s.c)((function(e){return e.auth})).isLoggedIn,j=Object(s.c)((function(e){return e.message})).message,C=Object(s.b)();return N?r.a.createElement(A.a,{to:"/profileclient"}):r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(O.a,{onSubmit:function(n){n.preventDefault(),h(!0),a.current.validateAll(),0===t.current.context._errors.length?C(function(e,a){return function(t){return d(e,a).then((function(e){return t({type:"LOGIN_SUCCESS",payload:{user:e}}),Promise.resolve()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:"LOGIN_FAIL"}),t({type:"SET_MESSAGE",payload:a}),Promise.reject()}))}}(o,g)).then((function(){e.history.push("/profileclient"),window.location.reload()})).catch((function(){h(!1)})):h(!1)},ref:a},r.a.createElement("label",null,"E-mail"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:o,onChange:function(e){var a=e.target.value;u(a)},validations:[R,T]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:g,onChange:function(e){var a=e.target.value;p(a)},validations:[R]}),r.a.createElement("p",{className:"errorMsg"}),j&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},j)),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:v},v?r.a.createElement("span",null," Loading..."):r.a.createElement("span",null,"Sign up")),r.a.createElement("p",null,"Do you have an account ?",r.a.createElement(S.b,{to:"/registerclient"}," Sign in"))),r.a.createElement(w.a,{style:{display:"none"},ref:t}))))},q=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},D=function(e){if(!Object(x.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},G=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},L=function(){var e=Object(n.useRef)(),a=Object(n.useRef)(),t=Object(n.useState)(""),l=Object(i.a)(t,2),c=l[0],o=l[1],u=Object(n.useState)(""),m=Object(i.a)(u,2),E=m[0],d=m[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),f=b[0],v=b[1],h=Object(n.useState)(!1),A=Object(i.a)(h,2),N=A[0],j=A[1],C=Object(s.c)((function(e){return e.message})).message,x=Object(s.b)();return r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(O.a,{onSubmit:function(t){t.preventDefault(),j(!1),e.current.validateAll(),0===a.current.context._errors.length&&x(g(c,E,f,"customer")).then((function(){j(!0)})).catch((function(){j(!1)}))},ref:e},r.a.createElement("label",null,"Client Name"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"name",value:c,onChange:function(e){var a=e.target.value;o(a)},validations:[q]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"E-mail"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:E,onChange:function(e){var a=e.target.value;d(a)},validations:[q,D]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:f,onChange:function(e){var a=e.target.value;v(a)},validations:[q,G]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block"}," Sign up "),r.a.createElement("p",null,"Do you have an account?",r.a.createElement(S.b,{to:"./login"}," Sign in")),r.a.createElement("p",null,"Do you want to register as a restaurant?",r.a.createElement(S.b,{to:"/registerrestaurant"}," Sign up")),r.a.createElement("p",null,"Do you want to register as a deliveryman?",r.a.createElement(S.b,{to:"/registerdeliveryman"}," Sign up"))),C&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:N?"alert alert-success":"alert alert-danger",role:"alert"},C)),r.a.createElement(w.a,{style:{display:"none"},ref:a}))))},M=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},B=function(e){if(!Object(x.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},P=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},F=function(){var e=Object(n.useRef)(),a=Object(n.useRef)(),t=Object(n.useState)(""),l=Object(i.a)(t,2),c=l[0],o=l[1],u=Object(n.useState)(""),m=Object(i.a)(u,2),E=m[0],d=m[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),f=b[0],v=b[1],h=Object(n.useState)(!1),A=Object(i.a)(h,2),N=A[0],j=A[1],C=Object(s.c)((function(e){return e.message})).message,x=Object(s.b)();return r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(O.a,{onSubmit:function(t){t.preventDefault(),j(!1),e.current.validateAll(),0===a.current.context._errors.length&&x(g(c,E,f,"restaurant")).then((function(){j(!0)})).catch((function(){j(!1)}))},ref:e},r.a.createElement("label",null,"Restaurant Name"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"name",value:c,onChange:function(e){var a=e.target.value;o(a)},validations:[M]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"E-mail"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:E,onChange:function(e){var a=e.target.value;d(a)},validations:[M,B]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:f,onChange:function(e){var a=e.target.value;v(a)},validations:[M,P]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block"}," Sign up "),r.a.createElement("p",null,"Do you have an account?",r.a.createElement(S.b,{to:"./login"}," Sign in")),r.a.createElement("p",null,"Do you want to register as a client?",r.a.createElement(S.b,{to:"/registerclient"}," Sign up")),r.a.createElement("p",null,"Do you want to register as a deliveryman?",r.a.createElement(S.b,{to:"/registerdeliveryman"}," Sign up"))),C&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:N?"alert alert-success":"alert alert-danger",role:"alert"},C)),r.a.createElement(w.a,{style:{display:"none"},ref:a}))))},J=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},H=function(e){if(!Object(x.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},U=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},Q=function(){var e=Object(n.useRef)(),a=Object(n.useRef)(),t=Object(n.useState)(""),l=Object(i.a)(t,2),c=l[0],o=l[1],u=Object(n.useState)(""),m=Object(i.a)(u,2),E=m[0],d=m[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),f=b[0],v=b[1],h=Object(n.useState)(!1),A=Object(i.a)(h,2),N=A[0],j=A[1],C=Object(s.c)((function(e){return e.message})).message,x=Object(s.b)();return r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(O.a,{onSubmit:function(t){t.preventDefault(),j(!1),e.current.validateAll(),0===a.current.context._errors.length&&x(g(c,E,f,"deliveryman")).then((function(){j(!0)})).catch((function(){j(!1)}))},ref:e},r.a.createElement("label",null,"Deliveryman Name"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"name",value:c,onChange:function(e){var a=e.target.value;o(a)},validations:[J]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"E-mail"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:E,onChange:function(e){var a=e.target.value;d(a)},validations:[J,H]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(y.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:f,onChange:function(e){var a=e.target.value;v(a)},validations:[J,U]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block"}," Sign up "),r.a.createElement("p",null,"Do you have an account?",r.a.createElement(S.b,{to:"./login"}," Sign in")),r.a.createElement("p",null,"Do you want to register as a client?",r.a.createElement(S.b,{to:"/registerclient"}," Sign up")),r.a.createElement("p",null,"Do you want to register as a restaurant?",r.a.createElement(S.b,{to:"/registerrestaurant"}," Sign up"))),C&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:N?"alert alert-success":"alert alert-danger",role:"alert"},C)),r.a.createElement(w.a,{style:{display:"none"},ref:a}))))};var k=function(){return r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement("p",{style:{alignSelf:"flex-end"}},r.a.createElement("strong",null,"Profile picture")),r.a.createElement("label",null,"Name"),r.a.createElement("p",null,"Pepito McDonald"),r.a.createElement("label",null,"E-mail"),r.a.createElement("p",null,"pepitomcdonald@gmail.com"),r.a.createElement("label",null,"DNI"),r.a.createElement("p",null,"626646789R"),r.a.createElement("label",null,"Address"),r.a.createElement("p",null,"Carrer de Felip II 143, 1o 1a"),r.a.createElement("label",null,"Tlf number"),r.a.createElement("p",null,"681777564"),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",null," Edit profile")),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",null," Log out"))))};var K=function(){return r.a.createElement("section",{className:"restauranthomepage"},r.a.createElement("div",{className:"restauranthomepageContainer"},r.a.createElement("img",{src:"frontend/src/images/restaurantbanner.jpg",alt:"Restaurant's banner (image not loading)",height:"180"}),r.a.createElement("h1",{className:"text"},"El raconet de la tieta Quica"),r.a.createElement("p",{className:"text"},"Rambla de Catalunya 57, Barcelona, 08001"),r.a.createElement("p",{className:"text"},"Rated ",r.a.createElement("strong",null,"4.5/5")," (9 users)"),r.a.createElement("p",{className:"text"},'Hidden in plain sight in the touristic center of Barcelona, "El raconet de la tieta Quica" specialises in tempting both locals and tourists with their classic Mediterranean cuisine at affordable prices.'),r.a.createElement("p",{className:"text"},r.a.createElement("strong",null,"Picked for you:")),r.a.createElement("p",{className:"text"},"Rata al horno - 7$"),r.a.createElement("p",{className:"text"},"Rata al ajillo - 6$"),r.a.createElement("p",{className:"text"},"Rata a las finas hierbas - 4$"),r.a.createElement("p",{className:"text"},"Perro - 17$")))},W=t(213),X=t(212),V=t(85),Z=t(214),Y=t(81),z=t.n(Y),_=t(82),$=t.n(_),ee=function(e){var a=e.openSidebar;return r.a.createElement(W.a,{bg:"light",expand:"lg"},r.a.createElement("a",{onClick:function(){return a()}},r.a.createElement("img",{style:{margin:"25px"},src:$.a,height:"15px",width:"17px",alt:"Open sidebar"})),r.a.createElement(W.a.Brand,{href:"/"},r.a.createElement("img",{src:z.a,height:"30",className:"d-inline-block align-top",alt:"UBEATS"})),r.a.createElement(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(W.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(X.a,{inline:!0},r.a.createElement(V.a,{type:"text",placeholder:"Enter delivery address",className:"mr-sm-2"})),r.a.createElement(Z.a,{className:"mr-auto"},r.a.createElement(Z.a.Link,{href:"/login"},"Log in"))))},ae=(t(211),t(89),t(204),function(){var e=Object(s.c)((function(e){return e.auth})).user,a=Object(s.b)(),t=Object(n.useState)(!1),l=Object(i.a)(t,2),c=l[0],o=l[1];console.log({user:e}),Object(n.useEffect)((function(){b.listen((function(e){a({type:"CLEAR_MESSAGE"})}))}),[a]);return r.a.createElement(S.a,{history:b},r.a.createElement("div",null,console.log(c),r.a.createElement(ee,{openSidebar:function(){return o(!c)}}),r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/",component:h}),r.a.createElement(A.b,{path:"/login",component:I}),r.a.createElement(A.b,{path:"/registerclient",component:L}),r.a.createElement(A.b,{path:"/registerrestaurant",component:F}),r.a.createElement(A.b,{path:"/registerdeliveryman",component:Q}),r.a.createElement(A.b,{path:"/profileclient",component:k}),r.a.createElement(A.b,{path:"/ProfileRestaurant",component:K}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=t(21),ne=t(91),re=t(92),le=t(18),ce=JSON.parse(localStorage.getItem("user")),se=ce?{isLoggedIn:!0,user:ce}:{isLoggedIn:!1,user:null},ie={},oe=Object(te.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"REGISTER_SUCCESS":case"REGISTER_FAIL":return Object(le.a)(Object(le.a)({},e),{},{isLoggedIn:!1});case"LOGIN_SUCCESS":return Object(le.a)(Object(le.a)({},e),{},{isLoggedIn:!0,user:n.user});case"LOGIN_FAIL":case"LOGOUT":return Object(le.a)(Object(le.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_MESSAGE":return{message:n};case"CLEAR_MESSAGE":return{message:""};default:return e}}}),ue=[re.a],me=Object(te.createStore)(oe,Object(ne.composeWithDevTools)(te.applyMiddleware.apply(void 0,ue)));t(205);t(206).config();var Ee=me;c.a.render(r.a.createElement(s.a,{store:Ee},r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},29:function(e,a,t){},80:function(e,a,t){e.exports=t.p+"static/media/under_construction.a5b1930d.png"},81:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAAAiCAIAAAA2zWfrAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATgSURBVGhD7ZrBih1FFIaz8gn0DfQJzBvoG5gniAuXSlzp0tnqIi4CrqJZCIIEo9sIBoYYIeAgUWZAMDF3MciAE0RcuLj5Ln9Znnuqqru6u/pmJvTPj5muc07dvvV1dVe198J60bnVLPAu3DiWw/GiebSB98nRH3G4f/r5FwV6Zav4OxbGRlmNDXXl1y9eP/honKkNvTwX2sAbN9yuCn7ZdjU21GsHH75w561xpjb0Mo/+/PfvO6dH1r/9cxJiM2iB11LfnR65T/zg4dchNoMWeC21wOvRAi/q3MN79f4eQ1bpg79+D73MIz7Cnhte4G3JwZt7Mg3Scw6PtOj6bYnVfPCYl3sPv3n3v60If984vhuXi+lKkhbX/vHqW3tu+M3DT2NUzq4/6eTWyQGfSH7c2HBIhx13ix3Be/R4RYILybQTVVqN5oAHpFfuvW+7tb704BojmM4qWqhN27vt5iIsAeZynDk3QIYCo9nhnT55UsLmTKZ66FZbeFC5eH/PdlgyCF3LdHifHd99af8dl1Ay5+lm4ezwKsnJNVOwIbyh4+48Ed6IT4e07tXS7PBGWP2U1AoeV7HtZ4QnwsveqPk60S4kXz68rnJ0FuFhdZWV+1ZcjPEJ32tuU6GX9dp2Ms6Cx0UQh5t9i8t5+d57MSrrHNJLh1q3lmGSXV3ddmk4Tr5nAE9pkgtFh3BOfH/3Zeodr3r+cCFZUSuXYC14VukstE84q5TKVyc/hti20lONmTuFp4RULk0OsURN4Ll2WaGsXKY8BV6KhDVniG2LeRZnrRzvH7uDp2hJLhmHQCLO3n3temso01tWaYitXAmeAi/NxDwF2WWyb3GrypJ2BE+hbrkSHALbmg7PNWK7hCvJleAp8BCPQ5fszENaLEuntwt4au+Vq8IhsC0Hj8MQqJYtx6wUQqBT6XydCI8OX9x/2+WXDMj0objAG9CDK5wID8EvXaB2GIR2Fp4hePRQU9gc3sVnNPOiWIC8kby+KZmz3elWQe29clU4BLbVHB6ueeYxxK6qFbwoyskHZPftNP4SJwOv5h2jK8Ed8LBCHXr0eOVKcIhtazq8cUPsSnBzeFZs2LlcLh9eT0GyKFVOBh5WrCSXLHfDw4qW5JJxCCSaDg/ZHuTu1blLlqfAg4pe+silTR7irpCuSxXawGOquYGTlWHlEqx74WElpEqfdjjEEjWBx5jaTqJD2MglWNfAu/TgWohtC3guM+0tKn0iqn0Db/NPMnZDXQMPK8fKJcghlpODN+jdZnxacDnbTsY5He5stywx7Dno/UiKmS/Clk79WKX/gzderwEecsM31JXwKq2usnLwBtlO03T1ONTZudK7dYs30uwKM16LTFn+y6FLwFuvx6TSzbPSDeGpn5JawUPpAnKQs/BKN+ToCI9pOmiTJ4Nc5eh/eGgQv/3vf7CHreCpkw41hIeYf72vqeR0omTh9SKxSxiSB30dzoGSUOzgSVDJriBkQiQozbWr3DZiWiqvCZX3qi086erqdsftjioYp0+pLDwJQqVrwsKTuAH0TkES4t0yKgNPYuP1+Zc37eByaH+mABL4RXOodrtjc78P4zCGokOsWhrHce7eDxBlZFkHQguzumG87K/HXG92EmSVluDsr8eQNnacgD49ngMXVqmkCG/R2dcC79xqvX4KpbqK1Vt42gQAAAAASUVORK5CYII="},82:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASCAIAAAA/hdJEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAA7SURBVDhPYxh2gHH//v1QJgWA8f///1AmBYAJSlMGqGPK8AOM9fX1UCYFYPjFNCgHMDIyQnmjAAIYGAAeEwwCdTF1yAAAAABJRU5ErkJggg=="},93:function(e,a,t){e.exports=t(209)}},[[93,1,2]]]);
//# sourceMappingURL=main.c1b3690d.chunk.js.map